\begin{lstlisting}[
	% there are many more options of styling, see the official documentation, these are just the defaults I like
	frame=single, % make single-line frame around the verbatim
	framesep=2mm, % put some more spacing between the frame and text
	aboveskip=5mm, % put some more space above the box
	basicstyle={\linespread{0.9}\small\ttfamily}, % use typewriter (monospace) font
	caption={Add function compiled to LLVM IR}, % set the caption text
	captionpos=b, % put the caption at the bottom (b) or top (t) or both (bt)
    label={listing:addLLVM}, % label to be referenced via \ref{}
	numbers=left, % line numbers on the left
	numberstyle={\scriptsize\ttfamily\color{black!60}}, % the style for line numbers
	escapeinside={<@}{@>} % between those sequences are commands evaluated
]
<@\textcolor[HTML]{3010CF}{\textbf{\texttt{define}}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{FF1010}{\texttt{\{}}@><@\textcolor[HTML]{1F8F42}{\texttt{\ }}@><@\textcolor[HTML]{10909F}{\texttt{ptr}}@><@\textcolor[HTML]{1041FF}{\texttt{,}}@><@\textcolor[HTML]{1F8F42}{\texttt{\ }}@><@\textcolor[HTML]{10909F}{\texttt{ptr}}@><@\textcolor[HTML]{1F8F42}{\texttt{\ }}@><@\textcolor[HTML]{FF1010}{\texttt{\}}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{000000}{\texttt{@add}}@><@\textcolor[HTML]{FF1010}{\texttt{(}}@><@\textcolor[HTML]{10909F}{\texttt{i64}}@><@\textcolor[HTML]{EA5110}{\textit{\texttt{\ }}}@><@\textcolor[HTML]{000000}{\texttt{\%x}}@><@\textcolor[HTML]{1041FF}{\texttt{,}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{10909F}{\texttt{ptr}}@><@\textcolor[HTML]{EA5110}{\textit{\texttt{\ }}}@><@\textcolor[HTML]{000000}{\texttt{\%bound}}@><@\textcolor[HTML]{FF1010}{\texttt{)}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{FF1010}{\texttt{\{}}@>
<@\textcolor[HTML]{7777BB}{\texttt{entry:}}@>
<@\textcolor[HTML]{000000}{\texttt{\ \ }}@><@\textcolor[HTML]{000000}{\texttt{\%int\_ptr}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{1041FF}{\texttt{=}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{1010FF}{\texttt{getelementptr}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{FF1010}{\texttt{\{}}@><@\textcolor[HTML]{1F8F42}{\texttt{\ }}@><@\textcolor[HTML]{10909F}{\texttt{i64}}@><@\textcolor[HTML]{1F8F42}{\texttt{\ }}@><@\textcolor[HTML]{FF1010}{\texttt{\}}}@><@\textcolor[HTML]{1041FF}{\texttt{,}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{10909F}{\texttt{ptr}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{EA5110}{\textit{\texttt{null}}}@><@\textcolor[HTML]{1041FF}{\texttt{,}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{10909F}{\texttt{i32}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{EA5110}{\texttt{1}}@>
<@\textcolor[HTML]{000000}{\texttt{\ \ }}@><@\textcolor[HTML]{000000}{\texttt{\%sizeof\_int}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{1041FF}{\texttt{=}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{1010FF}{\texttt{ptrtoint}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{10909F}{\texttt{ptr}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{000000}{\texttt{\%int\_ptr}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{3010CF}{\textit{\textbf{\texttt{to}}}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{10909F}{\texttt{i64}}@>
<@\textcolor[HTML]{000000}{\texttt{\ \ }}@><@\textcolor[HTML]{000000}{\texttt{\%new\_bound}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{1041FF}{\texttt{=}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{1010FF}{\texttt{call}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{10909F}{\texttt{ptr}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{000000}{\texttt{@GC\_malloc}}@><@\textcolor[HTML]{FF1010}{\texttt{(}}@><@\textcolor[HTML]{10909F}{\texttt{i64}}@><@\textcolor[HTML]{EA5110}{\textit{\texttt{\ }}}@><@\textcolor[HTML]{000000}{\texttt{\%sizeof\_int}}@><@\textcolor[HTML]{FF1010}{\texttt{)}}@>
<@\textcolor[HTML]{000000}{\texttt{\ \ }}@><@\textcolor[HTML]{000000}{\texttt{\%x\_location}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{1041FF}{\texttt{=}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{1010FF}{\texttt{getelementptr}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{FF1010}{\texttt{\{}}@><@\textcolor[HTML]{1F8F42}{\texttt{\ }}@><@\textcolor[HTML]{10909F}{\texttt{i64}}@><@\textcolor[HTML]{1F8F42}{\texttt{\ }}@><@\textcolor[HTML]{FF1010}{\texttt{\}}}@><@\textcolor[HTML]{1041FF}{\texttt{,}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{10909F}{\texttt{ptr}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{000000}{\texttt{\%new\_bound}}@><@\textcolor[HTML]{1041FF}{\texttt{,}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{10909F}{\texttt{i32}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{EA5110}{\texttt{0}}@><@\textcolor[HTML]{1041FF}{\texttt{,}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{10909F}{\texttt{i32}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{EA5110}{\texttt{0}}@>
<@\textcolor[HTML]{000000}{\texttt{\ \ }}@><@\textcolor[HTML]{1010FF}{\texttt{store}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{10909F}{\texttt{i64}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{000000}{\texttt{\%x}}@><@\textcolor[HTML]{1041FF}{\texttt{,}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{10909F}{\texttt{ptr}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{000000}{\texttt{\%x\_location}}@>
<@\textcolor[HTML]{000000}{\texttt{\ \ }}@><@\textcolor[HTML]{000000}{\texttt{\%add\_const\_closure}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{1041FF}{\texttt{=}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{1010FF}{\texttt{insertvalue}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{FF1010}{\texttt{\{}}@><@\textcolor[HTML]{1F8F42}{\texttt{\ }}@><@\textcolor[HTML]{10909F}{\texttt{ptr}}@><@\textcolor[HTML]{1041FF}{\texttt{,}}@><@\textcolor[HTML]{1F8F42}{\texttt{\ }}@><@\textcolor[HTML]{10909F}{\texttt{ptr}}@><@\textcolor[HTML]{1F8F42}{\texttt{\ }}@><@\textcolor[HTML]{FF1010}{\texttt{\}}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{FF1010}{\texttt{\{}}@><@\textcolor[HTML]{724BFF}{\textit{\texttt{\ }}}@><@\textcolor[HTML]{10909F}{\texttt{ptr}}@><@\textcolor[HTML]{724BFF}{\textit{\texttt{\ }}}@><@\textcolor[HTML]{000000}{\texttt{@add\_const}}@><@\textcolor[HTML]{1041FF}{\texttt{,}}@><@\textcolor[HTML]{724BFF}{\textit{\texttt{\ }}}@><@\textcolor[HTML]{10909F}{\texttt{ptr}}@><@\textcolor[HTML]{724BFF}{\textit{\texttt{\ }}}@><@\textcolor[HTML]{EA5110}{\textit{\texttt{undef}}}@><@\textcolor[HTML]{724BFF}{\textit{\texttt{\ }}}@><@\textcolor[HTML]{FF1010}{\texttt{\}}}@><@\textcolor[HTML]{1041FF}{\texttt{,}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{10909F}{\texttt{ptr}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{000000}{\texttt{\%new\_bound}}@><@\textcolor[HTML]{1041FF}{\texttt{,}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{EA5110}{\texttt{1}}@>
<@\textcolor[HTML]{000000}{\texttt{\ \ }}@><@\textcolor[HTML]{1010FF}{\textit{\texttt{ret}}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{FF1010}{\texttt{\{}}@><@\textcolor[HTML]{1F8F42}{\texttt{\ }}@><@\textcolor[HTML]{10909F}{\texttt{ptr}}@><@\textcolor[HTML]{1041FF}{\texttt{,}}@><@\textcolor[HTML]{1F8F42}{\texttt{\ }}@><@\textcolor[HTML]{10909F}{\texttt{ptr}}@><@\textcolor[HTML]{1F8F42}{\texttt{\ }}@><@\textcolor[HTML]{FF1010}{\texttt{\}}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{000000}{\texttt{\%add\_const\_closure}}@>
<@\textcolor[HTML]{FF1010}{\texttt{\}}}@>

<@\textcolor[HTML]{3010CF}{\textbf{\texttt{define}}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{10909F}{\texttt{i64}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{000000}{\texttt{@add\_const}}@><@\textcolor[HTML]{FF1010}{\texttt{(}}@><@\textcolor[HTML]{10909F}{\texttt{i64}}@><@\textcolor[HTML]{EA5110}{\textit{\texttt{\ }}}@><@\textcolor[HTML]{000000}{\texttt{\%y}}@><@\textcolor[HTML]{1041FF}{\texttt{,}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{10909F}{\texttt{ptr}}@><@\textcolor[HTML]{EA5110}{\textit{\texttt{\ }}}@><@\textcolor[HTML]{000000}{\texttt{\%bound}}@><@\textcolor[HTML]{FF1010}{\texttt{)}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{FF1010}{\texttt{\{}}@>
<@\textcolor[HTML]{7777BB}{\texttt{entry:}}@>
<@\textcolor[HTML]{000000}{\texttt{\ \ }}@><@\textcolor[HTML]{000000}{\texttt{\%x\_location}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{1041FF}{\texttt{=}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{1010FF}{\texttt{getelementptr}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{FF1010}{\texttt{\{}}@><@\textcolor[HTML]{1F8F42}{\texttt{\ }}@><@\textcolor[HTML]{10909F}{\texttt{i64}}@><@\textcolor[HTML]{1F8F42}{\texttt{\ }}@><@\textcolor[HTML]{FF1010}{\texttt{\}}}@><@\textcolor[HTML]{1041FF}{\texttt{,}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{10909F}{\texttt{ptr}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{000000}{\texttt{\%bound}}@><@\textcolor[HTML]{1041FF}{\texttt{,}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{10909F}{\texttt{i32}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{EA5110}{\texttt{0}}@><@\textcolor[HTML]{1041FF}{\texttt{,}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{10909F}{\texttt{i32}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{EA5110}{\texttt{0}}@>
<@\textcolor[HTML]{000000}{\texttt{\ \ }}@><@\textcolor[HTML]{000000}{\texttt{\%x}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{1041FF}{\texttt{=}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{1010FF}{\texttt{load}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{10909F}{\texttt{i64}}@><@\textcolor[HTML]{1041FF}{\texttt{,}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{10909F}{\texttt{ptr}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{000000}{\texttt{\%x\_location}}@>
<@\textcolor[HTML]{000000}{\texttt{\ \ }}@><@\textcolor[HTML]{000000}{\texttt{\%result}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{1041FF}{\texttt{=}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{1010FF}{\texttt{add}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{10909F}{\texttt{i64}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{000000}{\texttt{\%x}}@><@\textcolor[HTML]{1041FF}{\texttt{,}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{000000}{\texttt{\%y}}@>
<@\textcolor[HTML]{000000}{\texttt{\ \ }}@><@\textcolor[HTML]{1010FF}{\textit{\texttt{ret}}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{10909F}{\texttt{i64}}@><@\textcolor[HTML]{000000}{\texttt{\ }}@><@\textcolor[HTML]{000000}{\texttt{\%result}}@>
<@\textcolor[HTML]{FF1010}{\texttt{\}}}@>

\end{lstlisting}
